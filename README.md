# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом
- src/components/common/ — папка c общими компонентами
- src/components/special/ 

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения (упрощенный вид презентера)
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

##Архитектура проекта
Приложение основано на упрощенной версии шаблона проектирования MVP. В данном контексте все приложение содержит общий "Presenter", который координирует работу всех View и Model через событийно-ориентированный подход, используя механизм сообщений, которые возникают в результате определенных событий внутри отображений и моделей

Приложение работает со следующими типами данных:
IProduct: интерфейс, описывающий товар.
```
interface IProduct {
	id: string;
	description: string;
	price: number | undefined;
	title: string;
	image: string;
	category: string;
}
```
Тип, описывающий способ оплаты заказа.
```
type PaymentMethod = 'cash' | 'card';
```
Интерфейс, описывающий заказ пользователя.
```
interface IOrder {
	payment: PaymentMethod;
	email: string;
	phone: string;
	address: string;
	total: number | undefined;
	items: string[];
}
```
Интерфейс, описывающий то, каким должен быть ответ от сервера при успешном заказе.
```
interface IOrderResult {
	id: string;
	total: number;
}
```
Интерфейс, описывающий корзину с товарами.
```
interface IBasket {
	items: string[];
	total: number;
}
```
Тип для формы заказа, исключающий некоторые типы из интерфейса заказа пользователя
```
type OrderForm = Omit<IOrder, 'total' | 'items'>;
```
Тип для формы данных пользователя, исключающий некоторые типы из интерфейса заказа пользователя
```
type ContactForm = Omit<
	IOrder,
	'total' | 'items' | 'payment' | 'address'
>;
```

##Компоненты
**Events**: брокер событий, реализующий паттерн "Наблюдатель". Он управляет подпиской и уведомлением событий между компонентами.

**Api**: отвечает за взаимодействие с сервером, включая методы для отправки и получения данных.

**Component**: абстрактный класс, в котором реализованы базовые методы для реализации компонентов.

**WebLarekApi**: наследуется от Api и предоставляет методы для получения списка товаров и отправки заказов.

**BasketModel**: управляет данными корзины, включая добавление, удаление товаров и расчет общей стоимости.

**FormModel**: обрабатывает данные, введенные пользователем при оформлении заказа, включая валидацию контактной информации и адреса.

**Card**: управляет отображением карточки товара, включая установку текста, категории и цены.

**Order**: управляет отображением и обработкой формы заказа, включая выбор метода оплаты и ввод адреса доставки.

**Contacts**: управляет формой ввода контактной информации пользователя.

**Modal**: управляет отображением модальных окон в приложении.

**Success**: отображает сообщение об успешном оформлении заказа.


